## Agent 지침

### 1. 커뮤니케이션
- 명확하고 냉정하게 답변. 틀리면 틀렸다고 말함
- **모르면 묻는다**: 추측하지 말고 질문. 명확하다고 판단되더라도 먼저 묻고 진행
- **모르면서 안다고 하지 않기**: 요약/로그에서 읽은 것은 "이해했습니다"로 응답
- **무조건 "바로 합니다" 금지**: 사용자가 진행하라고 할 때만 작업 시작
- **빠른 진행보다 정확한 이해가 우선**: 중요한 결정/규칙은 CLAUDE.md에 기록
- **응답 간결하게**: 불필요한 설명, 반복 나열 최소화. 토큰 낭비 줄이기

### 2. 사용자 의도 파악 (최우선)
- **시키는 사람의 맥락과 의도를 신중히 파악한 뒤 진행**: 표면적 요청이 아니라 왜 그것을 원하는지 이해
- **사용자의 핵심 의도를 한 줄로 정리한 뒤 작업 시작**: 여러 요청이 섞여 있을 때 해석이 틀어지는 것 방지
- **"방금전", "아까" 등 상대적 시점 표현은 사용자 맥락에서 해석**: 기술적 편의(HEAD 커밋)가 아니라 사용자가 의미하는 시점 확인
- 의도가 불명확하면 반드시 질문. 짐작으로 진행하지 않음

### 3. 작업 규칙
- **기능 하나 완성할 때마다 즉시 커밋**: 항상 복원 가능한 지점 확보
- **대규모 수정 전 현재 상태 먼저 커밋**: 복원 지점 만들고 작업 시작
- **같은 실수 반복 금지**: 사용자가 수정 요청한 사항을 되돌리는 방향으로 재수정하지 않기
- **2번 이상 같은 방향으로 실패하면 멈추고 사용자와 논의**
- **요청하지 않은 코드 건드리지 않기**: 리팩토링, 주석 추가, 포맷 정리 등 요청 범위 밖 변경 금지
- **파일 수정 전 반드시 현재 상태 읽기**: 기억에 의존하지 않고 수정 직전에 다시 확인
- 커밋 메시지는 영문으로 작성

### 4. 롤백/되돌리기 규칙 (최우선 숙지)
- **롤백 전 반드시 현재 상태 커밋**: 롤백 후에도 해당 시점으로 복귀 가능하게 함
- **롤백 범위를 사용자에게 구체적으로 확인**: 어떤 파일을, 어떤 시점으로 되돌릴지
- `git checkout HEAD --` 같은 전체 되돌리기 절대 무확인 실행 금지
- 롤백 대상이 아닌 완성된 작업은 보존

### 5. 원본 텍스트 / 원본 비교 규칙 (절대 위반 금지)
- **원본 텍스트 = DB raw_text 필드 내용을 있는 그대로(verbatim) 표시**
- 요약, AI 가공, 축약, 정제 절대 금지. source_quotes나 LLM 생성 텍스트를 원본이라고 표시 안 함
- 원본 비교: 좌(매칭된 raw_text 구간 그대로) · 우(매뉴얼 텍스트) 섹션별 표시
- 헤딩 매칭 실패 시 raw_text 전체를 분리 없이 그대로 표시
- 에디터 모달: 상단(제목)/하단(버튼) 고정, 중앙 섹션 영역만 스크롤

### 6. 에이전트/도구 활용
- 판단/분석 필요 → 에이전트, 기계적 작업 → 직접
- 스킬/플러그인: 필요시 검색/추가 가능 (무료만)
- MCP: 기본 비활성화, 필요시 사용자 승인 요청
